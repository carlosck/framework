var App;App={init:function(){return this.$stage=null,this.$header=null,this.$menu=null,this.$loader=null,this.$gallery=null,this.$popup=null,this.section=1,this.scroll_busy=!0,this.current_section=1,this.current_animation=null,this.bind()},bind:function(){return this.$stage=this.by_id("stage"),this.$stage.style.top="0px",this.$header=this.by_id("header"),this.$menu=this.by_id("menu"),this.$loader=this.by_id("loading"),this.$gallery=this.by_id("gallery"),this.$popup=this.by_id("gallery_popup"),this.sprite_container=this.by_id("intro_img1"),this.start()},start:function(){var t,i,e,n,a;return this.set_mouse_scroll(this.mouse_scroll),this.set_on(document,"keyup",this.key_up),t=this.each(this.$menu,"a",function(t){return App.set_on(t,"click",App.menu_click)}),t=this.each(this.$gallery,".item_gallery",function(t){return App.set_on(t,"click",App.gallery_click)}),this.set_on(App.find(App.$popup,"#popup_close"),"click",function(){return App.popup_close()}),i=this.find(this.$popup,"#popup_left_container"),n=this.find(this.$popup,"#popup_right_container"),e=this.find_all(this.$popup,".popup_button"),a=this.find(this.$popup,"#popup_slider"),this.gallery.init({left:i,right:n,menu:e,slider:a,current:4,easing:"easeOutQuart"}),this.preload()},preload:function(){var t,i,e,n;for(t=new Array,i=n=1;30>=n;i=n+=1)t.push("img/secuencia/secuencia_"+i+".png");return e=this,this.preload_img.init(t,function(){return e.loading_cerrar()},function(t){return e.add_preload(t)})},add_preload:function(t){return this.find(App.$loader,"#loading_container").innerHTML=t.current+" de "+t.total},loading_cerrar:function(){return this.animate.to(App.$loader,{height:"0px"},{duration:500,easing:"easeOutQuad",callback:function(){return App.scroll_busy=!1}})},mouse_scroll:function(t){var i,e;if(e=window.event||t,i=-120*e.detail||e.wheelDelta,0>i){if(App.section+1<8)return App.change_page(App.section+1)}else if(App.section-1>0)return App.change_page(App.section-1)},key_up:function(t){var i,e;switch(e=window.event||t,i=0,t.which){case 38:i=1;break;case 40:i=-1}if(0>i){if(App.section+1<8)return App.change_page(App.section+1)}else if(App.section-1>0)return App.change_page(App.section-1)},menu_click:function(t){var i;t=event||window.event,t.preventDefault(),i=t.target.id.replace("menu_item",""),App.change_page(parseInt(i))},gallery_click:function(t){var i;t=event||window.event,t.preventDefault(),i=t.target.id.replace("item_gallery_",""),App.popup_open(parseInt(i))},change_page:function(t){var i,e,n;if(this.section===t||this.scroll_busy)return!1;switch(this.scroll_busy=!0,n=this.section<t?!0:!1,this.animate.to(this.find(this.$menu,"#menu_item"+t),{height:"50px",width:"50px"},{duration:500,easing:"easeOutQuad"}),this.animate.to(this.find(this.$menu,"#menu_item"+this.section),{height:"25px",width:"25px"},{duration:500,easing:"easeOutQuad"}),2===t&&(this.animate.to(this.$header,{height:"50px"},{duration:500,easing:"easeOutQuad"}),this.animate.to(this.find(this.$header,"#logo"),{marginTop:"0px"},{duration:500,easing:"easeOutQuad"}),this.animate.to(this.find(this.$header,"#list"),{marginTop:"0px"},{duration:500,easing:"easeOutQuad"})),1===t&&(this.animate.to(this.$header,{height:"100px"},{duration:500,easing:"easeOutQuad"}),this.animate.to(this.find(this.$header,"#logo"),{marginTop:"25px"},{duration:500,easing:"easeOutQuad"}),this.animate.to(this.find(this.$header,"#list"),{marginTop:"25px"},{duration:500,easing:"easeOutQuad"})),i=0,e=0,t){case 2:App.spritefy.init({element:this.sprite_container,from_frame:1,total_frames:10,tbf:100,restart:!0});break;case 3:App.spritefy.init({element:this.sprite_container,from_frame:11,total_frames:20,tbf:100,restart:!0});break;case 4:App.spritefy.init({element:this.sprite_container,from_frame:21,total_frames:30,tbf:100,restart:!0})}return this.section=t,this.animate.to(this.$stage,{top:-100*(t-1)+"%"},{duration:500,easing:"easeOutQuad",callback:function(){return null!==App.current_animation&&App.current_animation.stop(),App.scroll_busy=!1}})},popup_open:function(){return this.scroll_busy=!0,this.css(App.$popup,{opacity:0,display:"block"}),this.animate.to(this.$popup,{opacity:1},{duration:100})},popup_close:function(){return this.animate.to(this.$popup,{opacity:0},{duration:100,callback:function(){return App.css(App.$popup,{opacity:0,display:"none"}),App.scroll_busy=!0}})}},document.addEventListener("DOMContentLoaded",function(){return App.init()});