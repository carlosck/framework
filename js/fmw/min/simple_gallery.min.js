!function(t){t.gallery={$left:null,$right:null,$menu:null,$slider:null,current:0,busy:!1,init:function(e){var i,s,n,r,a;for(this.$left=e.left,this.$right=e.right,this.$menu=e.menu,this.$slider=e.slider,this.current=e.current,this.easing=null,t.add_class(this.$left,"active"),t.add_class(this.$right,"active"),void 0!==e.easing&&(this.easing=e.easing),t.add_class(this.$menu[this.current],"active"),t.css(this.$slider,{left:-100*this.current+"%"}),this.page(this.current),s=this,t.set_on(this.$left,"click",function(){return s.prev()}),t.set_on(this.$right,"click",function(){return s.next()}),a=[],i=n=0,r=this.$menu.length-1;r>=0?r>=n:n>=r;i=r>=0?++n:--n)n=i,a.push(t.set_on(this.$menu[i],"click",function(t){var e;return t.preventDefault(),e=t.target.getAttribute("page"),s.page(e)}));return a},page:function(e){var i;return this.busy?!1:(e=parseInt(e),this.busy=!0,this.current=e,0===e?t.remove_class(this.$left,"active"):t.has_class(this.$left,"active")||t.add_class(this.$left,"active"),e===this.$menu.length-1?t.remove_class(this.$right,"active"):t.has_class(this.$right,"active")||t.add_class(this.$right,"active"),i=this,t.remove_class(App.find(i.$menu[0].parentNode,".popup_button.active"),"active"),t.add_class(this.$menu[e],"active"),this.current=e,null!==this.easing?t.animate.to(this.$slider,{left:-100*this.current+"%"},{duration:500,easing:this.easing,callback:function(){return i.busy=!1}}):t.animate.to(this.$slider,{left:-100*this.current+"%"},{duration:500,callback:function(){return i.busy=!1}}))},prev:function(){return 0===this.current?!1:this.page(this.current-1)},next:function(){return this.current===this.$menu.length-1?!1:this.page(this.current+1)}}}(App);